#!/usr/bin/env python
import pickle
import scancam.scancam as scancam


# First cut at flight-like scan
# Corners determined from solid model represent top and right edges of wells
module2_corners_from_sw = ( 
            {'x':0.0, 'y':-47.3, 'z0':0.0, 'z1':7.0, 't':7},
            {'x':0.0, 'y':-9.0, 'z0':0.0, 'z1':7.0, 't':7},
            {'x':0.0, 'y':29.3, 'z0':0.0, 'z1':7.0, 't':7},
            {'x':28.1, 'y':-47.3, 'z0':0.0, 'z1':7.0, 't':7},
            {'x':28.1, 'y':-9.0, 'z0':0.0, 'z1':7.0, 't':7},
            {'x':28.1, 'y':29.3, 'z0':0.0, 'z1':7.0, 't':7},
        )

module1_corners_from_sw = ( 
            {'x':124.1, 'y':-47.3, 'z0':0.0, 'z1':7.0, 't':7},
            {'x':124.1, 'y':-9.0, 'z0':0.0, 'z1':7.0, 't':7},
            {'x':124.1, 'y':29.3, 'z0':0.0, 'z1':7.0, 't':7},
            {'x':152.2, 'y':-47.3, 'z0':0.0, 'z1':7.0, 't':7},
            {'x':152.2, 'y':-9.0, 'z0':0.0, 'z1':7.0, 't':7},
            {'x':152.2, 'y':29.3, 'z0':0.0, 'z1':7.0, 't':7},
        )


# Generate scan from SolidWorks-measured corners
module1 = scancam.SixWellBioCellScan( {'x':124.1, 'y':-47.3 },
                          scan_id = 'module1',
                          num_h_scan_points = 3,
                          num_v_scan_points = 4,
                          video_format_params = { 'subsampling': 3,
                                           'cropping': (320, 2240, 0, 1920) },
                          verbose = True )

module2 = scancam.SixWellBioCellScan( {'x':0.0, 'y':-47.3 },
                          scan_id = 'module2',
                          num_h_scan_points = 3,
                          num_v_scan_points = 4,
                          video_format_params = { 'subsampling': 3,
                                           'cropping': (320, 2240, 0, 1920) },
                          verbose = True )

scanfile = open("micro5.scan", 'wb')

#pickle.dump( [module1, module2], scanfile)
pickle.dump( [module2], scanfile)

scanfile.close()


# Generate JUST CORNERS scan from SolidWorks-measured corners
module1 = scancam.SixWellBioCellJustCornersScan( {'x':124.1, 'y':-47.3 },
                          scan_id = 'module1',
                          num_h_scan_points = 3,
                          num_v_scan_points = 4,
                          video_format_params = { 'subsampling': 3,
                                           'cropping': (320, 2240, 0, 1920) },
                          verbose = True )

module2 = scancam.SixWellBioCellJustCornersScan( {'x':0.0, 'y':-47.3 },
                          scan_id = 'module2',
                          num_h_scan_points = 3,
                          num_v_scan_points = 4,
                          video_format_params = { 'subsampling': 3,
                                           'cropping': (320, 2240, 0, 1920) },
                          verbose = True )

scanfile = open("micro5-just-corners.scan", 'wb')

#pickle.dump( [module1, module2], scanfile)
pickle.dump( [module2], scanfile)

scanfile.close()
